<!DOCTYPE html>
{% load static %}
<html>
<head>
    <title>Dashboard Asian Games</title>
    <!-- Load JS and CSS -->
    <link rel="stylesheet" href="{% static "css/bootstrap.min.css" %}">
    <link rel="stylesheet" href="{% static "css/bootstrap-select.min.css" %}">
    <link rel="stylesheet" href="{% static "css/index.css" %}">
    <script src="{% static "js/app.js" %}"></script>
    <script src="{% static "js/jquery-3.3.1.min.js" %}"></script>
    <script src="{% static "js/apexcharts.min.js" %}"></script>
    <script src="{% static "js/bootstrap.min.js" %}"></script>
    <script src="{% static "js/bootstrap-select.min.js" %}"></script>
</head>
<body>
    <div id="container">
        <div id="page-title">
            <h1>Indonesia dalam Asian Games</h1>
        </div>
        <div class="page-content">
            <div class="tab-content content-1">
                <div class="col-lg-7">
                    <div id="indonesia-bubble-chart"></div>
                </div>
                <div class="col-lg-5">
                    <div id="indonesia-year-donut-chart"></div>
                </div>
            </div>
            <div class="tab-content content-2">
                <div class="col-lg-5">
                    <div id="hosts-line-chart"></div>
                </div>
                <div class="col-lg-2">
                    <div class="row">
                        <div id="country-name" class="country-name">IDN</div>
                        <!-- TODO: Change to country flags -->
                        <select id="country-selector" class="country-select selectpicker" onchange="selectCountry(this.value)">
                        </select>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div id="individual-country-bar-chart"></div>
                </div>
            </div>
            <div class="tab-content content-3">
                <div class="col-lg-6">
                    <div id="bar-chart"></div>
                </div>
                <div class="col-lg-5">
                    BD
                </div>
            </div>
            <div class="tab-menus">
                <div class="tab tab-1"><div>Page 1</div></div>
                <div class="tab tab-2"><div>Page 2</div></div>
                <div class="tab tab-3"><div>Page 3</div></div>
            </div>
        </div>
    </div>
</body>
<script src="{% static "js/index-tab-1.js" %}"></script>
<script src="{% static "js/index-tab-2.js" %}"></script>
<script>
    // Script for apex charts
    var barChartOptions = {
        chart: {
            type: 'bar'
        },
        series: [{
            name: 'Number of Winnings',
            data: [15, 10, 6, 4, 1],
        }],
        xaxis: {
            categories: ['Indonesia', 'Japan', 'China', 'SG', 'Korea'],
            title: {
                text: 'Country',
            },
        },
    };
    var barChart = new ApexCharts(document.querySelector('#bar-chart'), barChartOptions);
    barChart.render();


    $('.tab').click(function() {
        const elClassName = this.className.split(/\s+/)[1];
        const elIdentifier = elClassName.split('-')[1];

        // set all pages to the original position
        $('.tab-1').css('z-index', 2);
        $('.tab-2').css('z-index', 1);
        $('.tab-3').css('z-index', 0);
        $('.content-1').css('z-index', 2);
        $('.content-2').css('z-index', 1);
        $('.content-3').css('z-index', 0);

        // set selected page to the front
        $(this).css('z-index', 4);
        $('.content-' + elIdentifier).css('z-index', 3);
    })
    $('.tab-2').css('z-index', 6);
    $('.content-2').css('z-index,', 5);
</script>
</html>

